# =====================================================================
# Mountain Car Endpoint Dataset Builder Configuration
# =====================================================================
# Builds endpoint dataset for Mountain Car using pre-shuffled trajectory indices
#
# Usage:
#   # Train set (all states in trajectories → final state)
#   python src/build_shuffled_endpoint_dataset.py \
#       --config-name=build_mountain_car_endpoints \
#       increment=train start=0 end=19200 type=train
#
#   # Validation set
#   python src/build_shuffled_endpoint_dataset.py \
#       --config-name=build_mountain_car_endpoints \
#       increment=val start=19200 end=21600 type=val
#
#   # Test set (only first state → final state per trajectory)
#   python src/build_shuffled_endpoint_dataset.py \
#       --config-name=build_mountain_car_endpoints \
#       increment=test start=21600 end=24000 type=test
# =====================================================================

defaults:
  - system: mountain_car

# Trajectory data paths (Mountain Car power 0.0008 variant)
data_dirs: /common/users/shared/pracsys/genMoPlan/data_trajectories/mountain_car_power_0p0008/trajectories
shuffled_idxs_file: /common/users/shared/pracsys/genMoPlan/data_trajectories/mountain_car_power_0p0008/shuffled_indices.txt
dest_dir: /common/users/dm1487/arcmg_datasets/mountain_car/endpoint_dataset

# Processing range (slicing shuffled_indices.txt)
# 24,000 total trajectories: 80% train (19,200), 10% val (2,400), 10% test (2,400)
start: 0          # Start index
end: 19200        # End index (exclusive)
increment: train  # Identifier used in output filename (e.g., "train_endpoint_dataset.txt")

# Dataset type: "train", "val", or "test"
# - train/val: Creates endpoint pairs for ALL states in trajectory → final state
# - test: Creates only FIRST state → final state (one pair per trajectory)
type: train

# =====================================================================
# Fixed Attractor Mode (Optional)
# =====================================================================
# When enabled, replaces endpoint with a SCALAR attractor value
#
# Scalar attractor values:
#   1  = success (trajectory reaches goal at π/6 with low velocity)
#   -1 = failure (trajectory doesn't reach goal)
#
# Output format with fixed attractors:
#   Mountain Car: position velocity attractor (3 columns)
#
# Model learns to regress from start_state → scalar (1 or -1)
# =====================================================================
use_fixed_attractors: false  # true = use scalar attractor (1/-1), false = use actual final states
attractor_radius: 0.1        # Not used for Mountain Car (uses fixed thresholds)
balance_dataset: false       # true = balance success/failure counts (train/val only)
